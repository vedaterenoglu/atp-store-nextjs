
> atp-store-nextjs@0.1.0 test:unit
> jest

FAIL src/lib/graphql/client.test.ts
  ● Console

    console.error
      GraphQL Network Error: Error: Network failed
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/graphql/client.test.ts:108:28)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/lib/graphql/client.ts:42:21)
      at Object.errorHandler (src/lib/graphql/client.test.ts:109:7)

    console.error
      GraphQL Error: { message: 'Field not found', extensions: { code: 'FIELD_NOT_FOUND' } }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/lib/graphql/client.ts:51:23)
          at Array.forEach (<anonymous>)
      at forEach (src/lib/graphql/client.ts:50:33)
      at Object.errorHandler (src/lib/graphql/client.test.ts:131:7)

    console.error
      GraphQL Error: { message: 'Access denied', extensions: { code: 'access-denied' } }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/lib/graphql/client.ts:51:23)
          at Array.forEach (<anonymous>)
      at forEach (src/lib/graphql/client.ts:50:33)
      at Object.errorHandler (src/lib/graphql/client.test.ts:150:7)

    console.error
      GraphQL Error: { message: 'Invalid JWT', extensions: { code: 'invalid-jwt' } }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/lib/graphql/client.ts:51:23)
          at Array.forEach (<anonymous>)
      at forEach (src/lib/graphql/client.ts:50:33)
      at Object.errorHandler (src/lib/graphql/client.test.ts:171:7)

    console.error
      GraphQL Error: { message: '', extensions: {} }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/lib/graphql/client.ts:51:23)
          at Array.forEach (<anonymous>)
      at forEach (src/lib/graphql/client.ts:50:33)
      at Object.errorHandler (src/lib/graphql/client.test.ts:191:7)

    console.error
      GraphQL Network Error: Error: Network failed
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/graphql/client.test.ts:211:28)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/lib/graphql/client.ts:42:21)
      at Object.errorHandler (src/lib/graphql/client.test.ts:212:7)

  ● GraphQL Client › createGraphQLClient › should not show toast when running server-side

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 1

    1: "Network error. Please check your connection."

      212 |       errorHandler({ networkError, graphQLErrors: [] })
      213 |
    > 214 |       expect(toastModule.toast.error).not.toHaveBeenCalled()
          |                                           ^
      215 |
      216 |       // Restore window
      217 |       global.window = originalWindow

      at Object.toHaveBeenCalled (src/lib/graphql/client.test.ts:214:43)

  ● GraphQL Client › executeGraphQLSubscription › should use default client when none provided

    TypeError: gqlClient.subscription is not a function

      182 |
      183 |   const { unsubscribe } = gqlClient
    > 184 |     .subscription<TData, AnyVariables>(config.query, config.variables || {})
          |      ^
      185 |     .subscribe((result: OperationResult<TData>) => {
      186 |       if (result.data) {
      187 |         config.onData(result.data)

      at subscription (src/lib/graphql/client.ts:184:6)
      at Object.<anonymous> (src/lib/graphql/client.test.ts:525:33)

  ● GraphQL Client › executeGraphQLOperation with default client › should use default client when none provided

    TypeError: gqlClient.query is not a function

      121 |
      122 |   const result = await gqlClient
    > 123 |     .query<TData, TVariables>(query, variables || ({} as TVariables))
          |      ^
      124 |     .toPromise()
      125 |
      126 |   if (result.error) {

      at query (src/lib/graphql/client.ts:123:6)
      at Object.<anonymous> (src/lib/graphql/client.test.ts:576:51)

  ● GraphQL Client › executeGraphQLMutation with default client › should use default client when none provided

    TypeError: gqlClient.mutation is not a function

      146 |
      147 |   const result = await gqlClient
    > 148 |     .mutation<TData, TVariables>(mutation, variables || ({} as TVariables))
          |      ^
      149 |     .toPromise()
      150 |
      151 |   if (result.error) {

      at mutation (src/lib/graphql/client.ts:148:6)
      at Object.<anonymous> (src/lib/graphql/client.test.ts:594:50)

FAIL src/lib/graphql/adapter.test.ts
  ● graphQLClientAdapter › request method › should execute GraphQL query with DocumentNode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "query GetUser($id: ID!) { user(id: $id) { id name } }",
    + "",
      {"id": "1"},

    Number of calls: 1

      92 |       })
      93 |
    > 94 |       expect(mockQuery).toHaveBeenCalledWith(queryString, variables)
         |                         ^
      95 |       expect(result).toEqual(mockResult)
      96 |     })
      97 |

      at Object.toHaveBeenCalledWith (src/lib/graphql/adapter.test.ts:94:25)

  ● graphQLClientAdapter › mutate method › should execute GraphQL mutation with DocumentNode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "mutation UpdateUser($id: ID!, $input: UserInput!) { updateUser(id: $id, input: $input) { id name } }",
    + "",
      {"id": "1", "input": {"name": "Updated User"}},

    Number of calls: 1

      260 |       })
      261 |
    > 262 |       expect(mockMutation).toHaveBeenCalledWith(mutationString, variables)
          |                            ^
      263 |       expect(result).toEqual(mockResult)
      264 |     })
      265 |

      at Object.toHaveBeenCalledWith (src/lib/graphql/adapter.test.ts:262:28)

PASS src/lib/providers/__tests__/graphql-provider.test.tsx
  ● Console

    console.error
      Error: Style Test Error
          at ErrorComponent (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/providers/__tests__/graphql-provider.test.tsx:301:15)
          at Object.react-stack-bottom-frame (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)
          at renderWithHooks (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)
          at updateFunctionComponent (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)
          at beginWork (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)
          at runWithFiberInDEV (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
          at performUnitOfWork (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)
          at workLoopSync (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)
          at renderRootSync (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)
          at performWorkOnRoot (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)
          at performWorkOnRootViaSchedulerTask (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
          at flushActQueue (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react/cjs/react.development.js:566:34)
          at process.env.NODE_ENV.exports.act (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react/cjs/react.development.js:859:10)
          at /Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/providers/__tests__/graphql-provider.test.tsx:304:13)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12) {
        [stack]: [Getter/Setter],
        [message]: 'Style Test Error'
      }
      
      The above error occurred in the <ErrorComponent> component.
      
      React will try to recreate this component tree from scratch using the error boundary you provided, GraphQLErrorBoundaryContainer.

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at defaultOnCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:8331:17)
      at logCaughtError (node_modules/react-dom/cjs/react-dom-client.development.js:8367:9)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at GraphQLErrorBoundaryContainer.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:8414:11)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:5363:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:5383:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:12067:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12688:25)
      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12611:11)
      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12693:11)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15559:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15402:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/lib/providers/__tests__/graphql-provider.test.tsx:304:13)

    console.error
      GraphQL Error Boundary caught: Error: Style Test Error
          at ErrorComponent (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/providers/__tests__/graphql-provider.test.tsx:301:15)
          at Object.react-stack-bottom-frame (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:23863:20)
          at renderWithHooks (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:5529:22)
          at updateFunctionComponent (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:8897:19)
          at beginWork (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:10522:18)
          at runWithFiberInDEV (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
          at performUnitOfWork (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:15140:22)
          at workLoopSync (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:14956:41)
          at renderRootSync (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:14936:11)
          at performWorkOnRoot (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:14462:44)
          at performWorkOnRootViaSchedulerTask (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
          at flushActQueue (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react/cjs/react.development.js:566:34)
          at process.env.NODE_ENV.exports.act (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/react/cjs/react.development.js:859:10)
          at /Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/@testing-library/react/dist/act-compat.js:47:25
          at renderRoot (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/@testing-library/react/dist/pure.js:190:26)
          at render (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/@testing-library/react/dist/pure.js:292:10)
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/providers/__tests__/graphql-provider.test.tsx:304:13)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12) {
        componentStack: '\n' +
          '    at ErrorComponent (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/providers/__tests__/graphql-provider.test.tsx:301:15)\n' +
          '    at GraphQLErrorBoundaryContainer (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/providers/graphql-provider.tsx:106:5)\n' +
          '    at children (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/providers/graphql-provider.tsx:90:3)'
      }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at GraphQLErrorBoundaryContainer.error [as componentDidCatch] (src/lib/providers/graphql-provider.tsx:116:13)
      at Object.react-stack-bottom-frame (node_modules/react-dom/cjs/react-dom-client.development.js:23916:20)
      at GraphQLErrorBoundaryContainer.inst.componentDidCatch.update.callback (node_modules/react-dom/cjs/react-dom-client.development.js:8425:11)
      at callCallback (node_modules/react-dom/cjs/react-dom-client.development.js:5363:16)
      at commitCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:5383:11)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:1522:13)
      at commitClassCallbacks (node_modules/react-dom/cjs/react-dom-client.development.js:12067:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12688:25)
      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12611:11)
      at recursivelyTraverseLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:13590:11)
      at commitLayoutEffectOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:12693:11)
      at flushLayoutEffects (node_modules/react-dom/cjs/react-dom-client.development.js:15559:15)
      at commitRoot (node_modules/react-dom/cjs/react-dom-client.development.js:15402:9)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:14526:15)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:16216:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:566:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:859:10)
      at node_modules/@testing-library/react/dist/act-compat.js:47:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:190:26)
      at render (node_modules/@testing-library/react/dist/pure.js:292:10)
      at Object.<anonymous> (src/lib/providers/__tests__/graphql-provider.test.tsx:304:13)

PASS src/components/ui/custom/language-toggle.test.tsx
PASS src/app/page.test.tsx
PASS src/components/layout/app-layout.test.tsx
PASS src/app/products/error.test.tsx
PASS src/components/providers/i18n-initializer.test.tsx
PASS src/components/layout/navbar.test.tsx
PASS src/components/ui/custom/theme-toggle.test.tsx
PASS src/app/products/page.test.tsx
PASS src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts
  ● Console

    console.error
      HasuraGraphQLAdapter error: HasuraError: Invalid GraphQL request input
          at HasuraGraphQLAdapter.execute (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/adapters/hasura-graphql.adapter.ts:102:15)
          at Object.execute (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:218:28)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12) {
        code: undefined,
        extensions: undefined
      }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at HasuraGraphQLAdapter.error [as handleError] (src/lib/adapters/hasura-graphql.adapter.ts:166:13)
      at HasuraGraphQLAdapter.handleError [as execute] (src/lib/adapters/hasura-graphql.adapter.ts:129:12)
      at Object.execute (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:218:28)

    console.error
      HasuraGraphQLAdapter error: HasuraError: Invalid GraphQL request input
          at HasuraGraphQLAdapter.execute (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/adapters/hasura-graphql.adapter.ts:102:15)
          at Object.execute (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:219:28)
          at processTicksAndRejections (node:internal/process/task_queues:105:5) {
        code: undefined,
        extensions: undefined
      }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at HasuraGraphQLAdapter.error [as handleError] (src/lib/adapters/hasura-graphql.adapter.ts:166:13)
      at HasuraGraphQLAdapter.handleError [as execute] (src/lib/adapters/hasura-graphql.adapter.ts:129:12)
      at Object.execute (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:219:28)

    console.error
      HasuraGraphQLAdapter error: HasuraError: Test error
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:260:27)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12) {
        code: 'TEST_CODE',
        extensions: undefined
      }

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at HasuraGraphQLAdapter.error [as handleError] (src/lib/adapters/hasura-graphql.adapter.ts:166:13)
      at handleError (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:262:28)
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)
      at Object.toThrow (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:262:54)

    console.error
      HasuraGraphQLAdapter error: Error: Regular error
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:266:28)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at HasuraGraphQLAdapter.error [as handleError] (src/lib/adapters/hasura-graphql.adapter.ts:166:13)
      at handleError (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:268:28)
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)
      at Object.toThrow (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:268:55)

    console.error
      HasuraGraphQLAdapter error: Error: Regular error
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:266:28)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at HasuraGraphQLAdapter.error [as handleError] (src/lib/adapters/hasura-graphql.adapter.ts:166:13)
      at handleError (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:269:28)
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)
      at Object.toThrow (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:269:55)

    console.error
      HasuraGraphQLAdapter error: string error

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at HasuraGraphQLAdapter.error [as handleError] (src/lib/adapters/hasura-graphql.adapter.ts:166:13)
      at handleError (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:273:28)
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)
      at Object.toThrow (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:273:57)

    console.error
      HasuraGraphQLAdapter error: string error

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at HasuraGraphQLAdapter.error [as handleError] (src/lib/adapters/hasura-graphql.adapter.ts:166:13)
      at handleError (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:274:28)
      at Object.<anonymous> (node_modules/expect/build/index.js:1824:9)
      at Object.throwingMatcher [as toThrow] (node_modules/expect/build/index.js:2235:93)
      at Object.toThrow (src/lib/adapters/__tests__/hasura-graphql.adapter.test.ts:274:57)

PASS src/services/products.service.test.ts
  ● Console

    console.error
      No products data returned from GraphQL

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/services/products.service.ts:74:15)
      at Object.<anonymous> (src/services/products.service.test.ts:89:22)

    console.error
      GraphQL error: Error: GraphQL error
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/products.service.test.ts:95:21)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/services/products.service.ts:69:15)
      at Object.<anonymous> (src/services/products.service.test.ts:100:7)

    console.error
      Error fetching products: Error: GraphQL error
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/products.service.test.ts:95:21)
          at Promise.finally.completed (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1559:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1499:10)
          at _callCircusTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1009:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:949:3)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/jestAdapterInit.js:1920:21)
          at jestAdapter (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:275:16)
          at runTest (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:343:7)
          at Object.worker (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/node_modules/jest-runner/build/testWorker.js:497:12)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/services/products.service.ts:81:13)
      at Object.<anonymous> (src/services/products.service.test.ts:100:7)

PASS src/components/categories/atoms/ImageContainer.test.tsx
PASS src/components/providers/clerk-locale-provider.test.tsx
PASS src/components/categories/atoms/OverlayComponent.test.tsx
PASS src/components/categories/templates/CategoriesPage.test.tsx
PASS src/components/providers/theme-initializer.test.tsx
PASS src/app/categories/page.test.tsx
PASS src/components/categories/atoms/ViewAllProductsButton.test.tsx
PASS src/components/layout/footer.test.tsx
PASS src/components/categories/molecules/CategoryCard.test.tsx
PASS src/components/categories/atoms/PageTitle.test.tsx
PASS src/lib/utils/toast.test.ts
PASS src/services/categories.service.test.ts
  ● Console

    console.error
      Response validation failed: ZodError: [
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "_type_stock_groups",
            0,
            "our_company"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "_type_stock_groups",
            0,
            "image_url"
          ],
          "message": "Invalid input: expected string, received undefined"
        },
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "_type_stock_groups",
            0,
            "alt_text"
          ],
          "message": "Invalid input: expected string, received undefined"
        }
      ]
          at parse (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.ts:57:64)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.test.ts:92:7)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/services/categories.service.ts:64:15)
      at Object.<anonymous> (src/services/categories.service.test.ts:92:7)

    console.error
      Response validation failed: ZodError: [
        {
          "expected": "string",
          "code": "invalid_type",
          "path": [
            "_type_stock_groups",
            0,
            "stock_groups"
          ],
          "message": "Invalid input: expected string, received number"
        }
      ]
          at parse (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.ts:57:64)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.test.ts:112:7)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/services/categories.service.ts:64:15)
      at Object.<anonymous> (src/services/categories.service.test.ts:112:7)

    console.error
      Response validation failed: ZodError: [
        {
          "expected": "object",
          "code": "invalid_type",
          "path": [],
          "message": "Invalid input: expected object, received null"
        }
      ]
          at parse (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.ts:57:64)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.test.ts:304:7)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/services/categories.service.ts:64:15)
      at Object.<anonymous> (src/services/categories.service.test.ts:304:7)

    console.error
      Response validation failed: ZodError: [
        {
          "expected": "array",
          "code": "invalid_type",
          "path": [
            "_type_stock_groups"
          ],
          "message": "Invalid input: expected array, received undefined"
        }
      ]
          at parse (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.ts:57:64)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at Object.<anonymous> (/Users/vedaterenoglu/Documents/portfolio/real-world-projects/atp-store-nextjs/src/services/categories.service.test.ts:312:7)

      361 |       return
      362 |     }
    > 363 |     originalError.call(console, ...args)
          |                   ^
      364 |   }
      365 | })
      366 |

      at console.call [as error] (src/__tests__/setup/jest.setup.ts:363:19)
      at error (src/services/categories.service.ts:64:15)
      at Object.<anonymous> (src/services/categories.service.test.ts:312:7)

PASS src/app/layout.test.tsx
PASS src/components/categories/organisms/CategoriesGrid.test.tsx
PASS src/middleware.test.ts
PASS src/lib/graphql/server-fetch.test.ts
PASS src/components/providers/i18n-provider.test.tsx
PASS src/app/products/loading.test.tsx
PASS src/components/categories/atoms/PriceTag.test.tsx
PASS src/lib/graphql/schemas/categories.test.ts

Summary of all failing tests
FAIL src/lib/graphql/client.test.ts
  ● GraphQL Client › createGraphQLClient › should not show toast when running server-side

    expect(jest.fn()).not.toHaveBeenCalled()

    Expected number of calls: 0
    Received number of calls: 1

    1: "Network error. Please check your connection."

      212 |       errorHandler({ networkError, graphQLErrors: [] })
      213 |
    > 214 |       expect(toastModule.toast.error).not.toHaveBeenCalled()
          |                                           ^
      215 |
      216 |       // Restore window
      217 |       global.window = originalWindow

      at Object.toHaveBeenCalled (src/lib/graphql/client.test.ts:214:43)

  ● GraphQL Client › executeGraphQLSubscription › should use default client when none provided

    TypeError: gqlClient.subscription is not a function

      182 |
      183 |   const { unsubscribe } = gqlClient
    > 184 |     .subscription<TData, AnyVariables>(config.query, config.variables || {})
          |      ^
      185 |     .subscribe((result: OperationResult<TData>) => {
      186 |       if (result.data) {
      187 |         config.onData(result.data)

      at subscription (src/lib/graphql/client.ts:184:6)
      at Object.<anonymous> (src/lib/graphql/client.test.ts:525:33)

  ● GraphQL Client › executeGraphQLOperation with default client › should use default client when none provided

    TypeError: gqlClient.query is not a function

      121 |
      122 |   const result = await gqlClient
    > 123 |     .query<TData, TVariables>(query, variables || ({} as TVariables))
          |      ^
      124 |     .toPromise()
      125 |
      126 |   if (result.error) {

      at query (src/lib/graphql/client.ts:123:6)
      at Object.<anonymous> (src/lib/graphql/client.test.ts:576:51)

  ● GraphQL Client › executeGraphQLMutation with default client › should use default client when none provided

    TypeError: gqlClient.mutation is not a function

      146 |
      147 |   const result = await gqlClient
    > 148 |     .mutation<TData, TVariables>(mutation, variables || ({} as TVariables))
          |      ^
      149 |     .toPromise()
      150 |
      151 |   if (result.error) {

      at mutation (src/lib/graphql/client.ts:148:6)
      at Object.<anonymous> (src/lib/graphql/client.test.ts:594:50)

FAIL src/lib/graphql/adapter.test.ts
  ● graphQLClientAdapter › request method › should execute GraphQL query with DocumentNode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "query GetUser($id: ID!) { user(id: $id) { id name } }",
    + "",
      {"id": "1"},

    Number of calls: 1

      92 |       })
      93 |
    > 94 |       expect(mockQuery).toHaveBeenCalledWith(queryString, variables)
         |                         ^
      95 |       expect(result).toEqual(mockResult)
      96 |     })
      97 |

      at Object.toHaveBeenCalledWith (src/lib/graphql/adapter.test.ts:94:25)

  ● graphQLClientAdapter › mutate method › should execute GraphQL mutation with DocumentNode

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

    - "mutation UpdateUser($id: ID!, $input: UserInput!) { updateUser(id: $id, input: $input) { id name } }",
    + "",
      {"id": "1", "input": {"name": "Updated User"}},

    Number of calls: 1

      260 |       })
      261 |
    > 262 |       expect(mockMutation).toHaveBeenCalledWith(mutationString, variables)
          |                            ^
      263 |       expect(result).toEqual(mockResult)
      264 |     })
      265 |

      at Object.toHaveBeenCalledWith (src/lib/graphql/adapter.test.ts:262:28)


Test Suites: 2 failed, 31 passed, 33 total
Tests:       6 failed, 536 passed, 542 total
Snapshots:   0 total
Time:        4.031 s
Ran all test suites.
