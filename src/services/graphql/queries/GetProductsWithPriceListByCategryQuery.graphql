query GetProductsWithPriceListByCategryQuery(
  $company_id: String!
  $stock_groups: String!
) {
  stock(
    where: {
      company_id: { _eq: $company_id }
      stock_is_active: { _eq: true }
      _rel_type_stock_group: {
        willBeListed: { _eq: true }
        stock_groups: { _eq: $stock_groups }
      }
    }
    order_by: { stock_group: asc, stock_id: asc }
  ) {
    stock_id
    stock_name
    stock_unit
    stock_price
    stock_group
  }
  stock_aggregate(where: { company_id: { _eq: $company_id } }) {
    aggregate {
      count(columns: stock_id)
    }
  }
}

# {
#   "company_id": "alfe",
#   "stock_groups": "1000 - Pizzakartonger"
# }
